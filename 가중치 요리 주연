{"cells":[{"cell_type":"code","execution_count":1,"id":"571f9c3b","metadata":{"id":"571f9c3b","executionInfo":{"status":"ok","timestamp":1718009716955,"user_tz":-540,"elapsed":2915,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}}},"outputs":[],"source":["# 필요한 라이브러리 import\n","import pandas as pd\n","import numpy as np\n","from gensim.models import Word2Vec\n","from sklearn.metrics.pairwise import cosine_similarity"]},{"cell_type":"code","execution_count":2,"id":"6241ff3a","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"6241ff3a","executionInfo":{"status":"ok","timestamp":1718009720157,"user_tz":-540,"elapsed":532,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"715586c6-3b8a-4ac9-bd7a-27488f0e2842"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                     Name                   Brand  \\\n","0                    Tihota Eau de Parfum                  Indult   \n","1                             Sola Parfum                  Di Ser   \n","2                          Kagiroi Parfum                  Di Ser   \n","3            Velvet Fantasy Eau de Parfum                 Montale   \n","4     A Blvd. Called Sunset Eau de Parfum           A Lab on Fire   \n","...                                   ...                     ...   \n","2186           Perfect Veil Eau de Parfum  Sarah Horowitz Parfums   \n","2187                  Scent Eau de Parfum        Costume National   \n","2188                 Bronze Eau de Parfum              Nanadebary   \n","2189         Monyette Paris Fragrance Oil          Monyette Paris   \n","2190                   1270 Eau de Parfum                  Frapin   \n","\n","                                            Description  \\\n","0      Rapa Nui for sugar, Tihota is, quite simply, ...   \n","1      A tribute to the expanse of space extending f...   \n","2      An aromatic ode to the ancient beauty of Japa...   \n","3      Velvet Fantasy is a solar fragrance where cit...   \n","4      There's no way A Lab On Fire could relocate t...   \n","...                                                 ...   \n","2186   This was created to smell like clean, naked s...   \n","2187   Scent is Costume Nationals debut fragrance. W...   \n","2188   Bronze is a naughty little vixen of a scent, ...   \n","2189   This isn't just sexy, it's big night out se...   \n","2190   Named for the year the Frapin family establis...   \n","\n","                                                  Notes  \\\n","0                                   Vanilla bean, musks   \n","1      Lavender, Yuzu, Lemongrass, Magnolia, Geraniu...   \n","2      Green yuzu, green shikuwasa, sansho seed, cor...   \n","3      tangerine,  pink pepper,  black coffee,  leat...   \n","4      Bergamot, almond, violet, jasmine, leather, s...   \n","...                                                 ...   \n","2186   top: lemon, bergamot base: musk, vanilla, san...   \n","2187   amber, jasmine tea, mother of pearl hibiscus ...   \n","2188   bergamot, mandarine, cinnamon, jasmine, iris,...   \n","2189   Tahitian gardenia, French muguet du bois, hin...   \n","2190   exotic woods, spice, raisin, vine flowers, pe...   \n","\n","                                              Image URL  \n","0     https://static.luckyscent.com/images/products/...  \n","1     https://static.luckyscent.com/images/products/...  \n","2     https://static.luckyscent.com/images/products/...  \n","3     https://static.luckyscent.com/images/products/...  \n","4     https://static.luckyscent.com/images/products/...  \n","...                                                 ...  \n","2186  https://static.luckyscent.com/images/products/...  \n","2187  https://static.luckyscent.com/images/products/...  \n","2188  https://static.luckyscent.com/images/products/...  \n","2189  https://static.luckyscent.com/images/products/...  \n","2190  https://static.luckyscent.com/images/products/...  \n","\n","[2191 rows x 5 columns]"],"text/html":["\n","  <div id=\"df-c0e0d39e-b64c-4052-92b9-9f9d43a9efd2\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Name</th>\n","      <th>Brand</th>\n","      <th>Description</th>\n","      <th>Notes</th>\n","      <th>Image URL</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Tihota Eau de Parfum</td>\n","      <td>Indult</td>\n","      <td>Rapa Nui for sugar, Tihota is, quite simply, ...</td>\n","      <td>Vanilla bean, musks</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Sola Parfum</td>\n","      <td>Di Ser</td>\n","      <td>A tribute to the expanse of space extending f...</td>\n","      <td>Lavender, Yuzu, Lemongrass, Magnolia, Geraniu...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Kagiroi Parfum</td>\n","      <td>Di Ser</td>\n","      <td>An aromatic ode to the ancient beauty of Japa...</td>\n","      <td>Green yuzu, green shikuwasa, sansho seed, cor...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Velvet Fantasy Eau de Parfum</td>\n","      <td>Montale</td>\n","      <td>Velvet Fantasy is a solar fragrance where cit...</td>\n","      <td>tangerine,  pink pepper,  black coffee,  leat...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>A Blvd. Called Sunset Eau de Parfum</td>\n","      <td>A Lab on Fire</td>\n","      <td>There's no way A Lab On Fire could relocate t...</td>\n","      <td>Bergamot, almond, violet, jasmine, leather, s...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2186</th>\n","      <td>Perfect Veil Eau de Parfum</td>\n","      <td>Sarah Horowitz Parfums</td>\n","      <td>This was created to smell like clean, naked s...</td>\n","      <td>top: lemon, bergamot base: musk, vanilla, san...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>2187</th>\n","      <td>Scent Eau de Parfum</td>\n","      <td>Costume National</td>\n","      <td>Scent is Costume Nationals debut fragrance. W...</td>\n","      <td>amber, jasmine tea, mother of pearl hibiscus ...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>2188</th>\n","      <td>Bronze Eau de Parfum</td>\n","      <td>Nanadebary</td>\n","      <td>Bronze is a naughty little vixen of a scent, ...</td>\n","      <td>bergamot, mandarine, cinnamon, jasmine, iris,...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>2189</th>\n","      <td>Monyette Paris Fragrance Oil</td>\n","      <td>Monyette Paris</td>\n","      <td>This isn't just sexy, it's big night out se...</td>\n","      <td>Tahitian gardenia, French muguet du bois, hin...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","    <tr>\n","      <th>2190</th>\n","      <td>1270 Eau de Parfum</td>\n","      <td>Frapin</td>\n","      <td>Named for the year the Frapin family establis...</td>\n","      <td>exotic woods, spice, raisin, vine flowers, pe...</td>\n","      <td>https://static.luckyscent.com/images/products/...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2191 rows × 5 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c0e0d39e-b64c-4052-92b9-9f9d43a9efd2')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-c0e0d39e-b64c-4052-92b9-9f9d43a9efd2 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-c0e0d39e-b64c-4052-92b9-9f9d43a9efd2');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-d63bb8dc-509c-46fd-87f4-c366af4890a6\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-d63bb8dc-509c-46fd-87f4-c366af4890a6')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-d63bb8dc-509c-46fd-87f4-c366af4890a6 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_38a72cda-1c7f-4de4-9f69-eaf54bdc779f\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('data')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_38a72cda-1c7f-4de4-9f69-eaf54bdc779f button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('data');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"data","summary":"{\n  \"name\": \"data\",\n  \"rows\": 2191,\n  \"fields\": [\n    {\n      \"column\": \"Name\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2184,\n        \"samples\": [\n          \"Patchouli Eau de Toilette\",\n          \"Papelato Eau de Parfum\",\n          \"Creation-E Parfum Cologne\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Brand\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 249,\n        \"samples\": [\n          \"Parfum Satori\",\n          \"Zoologist\",\n          \"Tauer Perfumes\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Description\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2167,\n        \"samples\": [\n          \" BYREDO presents a hair perfume collection that invites you to care for and delicately scent the hair in one sensuous beautifying gesture. Enjoy the uplifting power of long lasting scents as they subtly diffuse throughout the day, amplified by the natural movement of the hair. Each hair perfume combines one of BYREDO's signature scents with a unique silicone and polymer formula to create a light, invisible veil designed to leave the hair nourished and luminous whilst divinely scented.\\rBal d'Afrique is inspired by Paris in the late 1920's, when the city was infatuated with an idiosyncratic and fantastical vision of African culture, music and dance. A vivacious blast of sunny citrus with just a pinch of spicy marigold makes a suitably dramatic entrance, leading to a brew of green bucchu, sheer and aqueous cyclamen and sweet violet. At center stage is the ever-bewitching vetiver, earthy and spicy, and smoothed with sweet amber and warm musk until it becomes velvety and almost edible. An extra soup\\u00c3\\u00a7on of growl is provided by cedar wood, but the overall effect is less voracious man-eating tiger and more of a mischievous tiger cub \\u0096 sweet and adorable, but it still has claws. Bal d'Afrique is warm and embracing with a purring, cozy quality that has us at its mercy. Be careful, this one is addictive.\",\n          \" As with all great stories, Tango immediately sets the stage: bergamot, black pepper and cardamom whisk us away to a sultry summer night in the Canary Islands, a party already in full swing. The music swells louder as you tip back another glass of local honey rum, heady, sweet and inebriating. You turn your head to catch the warm evening breeze, which carries the scent of night blooming jasmine mingled with the salty sweat of the revelers, and you catch the eye of a beautiful stranger. Another deep gulp of the rum, cool vanilla standing out against the rich, warm amber. You stand and offer your hand- you're not always this brave, but tonight, the rum and the rhythm will not be denied. And just as she smiles and rises to meet you, the music reaches crescendo, and the air seems to get even hotter. \\rTango is a deep amber fragrance, warm and sensual, spicy and indulgent, and more than a little bit wild. The perfect scent for your next island-hopping nighttime adventure- or to add a little heat to any night at all.\",\n          \" Rome- the eternal city, a bustling modern metropolis with thousands of years of history beating in its heart and etched into its streets. Zefiro pays homage to Rome's baroque alchemy, a fragrance with both the instant appeal and the grand mystery of such a prestigious capital, suggestive and elusive, vibrant and unknowable. \\rZefiro opens with the lavish giddiness of il dolce far niente, a long weekend of fine wine and rich fruits. Cardamom and cinnamon evoke both mouthwatering cuisine and the well-spiced bustle of Rome's never-ending crowds, while iris and carnation represent beauty in all forms, from the perpetual spring season to the fashionable beauties in every square and nightclub. But Rome is also a city of history, and as Zefiro dries down, a rich amber and smoky incense remind us that around every corner is another masterpiece-stuffed museum, extravagant palazzo, or Imperial stronghold. And yet, a sweet, pervasive honey holds the earlier notes in place as well- after all, Rome isn't a city that changes, but a city where ancient and modern take root together in a hypnotic whirl.\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Notes\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2053,\n        \"samples\": [\n          \" hay, plum, espresso, tobacco, hazelnut, leather, patchouli, incense, dark chocolate, tar, castoreum, cognac, labdanum, beeswax, cherry, amber, allspice, Javanol, saffron, burning tire\",\n          \" Linden blossom, magnolia, lime, frangipani, rose, tuberose, water lily, plum, amber, musk, cedar, vanilla\",\n          \" Citrus, jasmine, saffron, sage, ambergris, oakmoss, cedar\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Image URL\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2191,\n        \"samples\": [\n          \"https://static.luckyscent.com/images/products/757041.jpg?width=400&404=product.png\",\n          \"https://static.luckyscent.com/images/products/825009.jpg?width=400&404=product.png\",\n          \"https://static.luckyscent.com/images/products/21904.jpg?width=400&404=product.png\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":2}],"source":["# 데이터 불러오기\n","data = pd.read_csv('./final_perfume_data.csv', encoding=\"latin1\")\n","data"]},{"cell_type":"code","execution_count":3,"id":"0cefde78","metadata":{"id":"0cefde78","executionInfo":{"status":"ok","timestamp":1718009720157,"user_tz":-540,"elapsed":6,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}}},"outputs":[],"source":["# 노트 별 대표향 딕셔너리\n","\n","note_categories = {'CITRUS': ['bergamot', 'bigarade', 'bitter orange', 'blood orange', 'calamansi', 'candied lemon', 'chen pi',\n","               'chinotto', 'citron', 'citrus water', 'citruses', 'clementine', 'finger lime', 'grapefruit',\n","               'grapefruit leaf', 'grapefruit peel', 'green tangerine', 'hassaku', 'hatkora lemon', 'kaffir lime',\n","               'kumquat', 'lemon', 'lemon balm', 'lemon tree', 'lemon verbena', 'lemon zest', 'lemongrass', 'lime',\n","               'limetta', 'litsea cubeba', 'mandarin orange', 'mandora', 'methyl pamplemousse', 'neroli', 'orange',\n","               'palestinian sweet lime', 'petitgrain', 'pokan', 'pomelo', 'rangpur', 'red mandarin', 'shiikuwasha',\n","               'tangelo', 'tangerine', 'tangerine zest', 'yuzu', 'green yuzu', 'italian bergamot oil grand cru','citrus'],\n","'FRUITS VEGETABLES NUTS': ['acai berry', 'acerola', 'acorn', 'almond', 'apple', 'apple juice', 'apple pulp', 'apple sherbet', 'apricot',\n","                                'arctic bramble', 'argan', 'artichoke', 'banana', 'barberry', 'bearberry', 'beetroot', 'black cherry', 'black currant',\n","                               'black sapote', 'black walnut', 'blackberry', 'blackthorn', 'blueberry', 'boysenberry', 'brazil nut', 'breadnut', 'buriti',\n","                               'burning cherry', 'candlenut', 'cantaloupe', 'carambola star fruit', 'carrot', 'cashew', 'cassowary fruit', 'cauliflower',\n","                               'cep', 'cepes', 'chayote', 'cherimoya', 'cherry', 'chestnut', 'chia seed', 'chickpeas', 'chinese magnolia', 'cloudberry',\n","                               'coco de mer', 'cocoa shell', 'coconut', 'coconut water', 'conifer', 'corn', 'corn silk', 'counts fruit', 'cranberry',\n","                               'cucumber', 'cupuaçu', 'currant leaf and bud', 'cyperus scariosus', 'daikon radish', 'dark plum wu mei', 'dewberry',\n","                               'dried apple crisp', 'dried apricot', 'dried fruits', 'durian', 'elderberry', 'feijoa fruit', 'fig', 'fig leaf',\n","                               'forest fruits', 'frosted berries', 'fruit salad', 'fruity notes', 'gariguette strawberry', 'genipapo', 'goji berries',\n","                               'gooseberry', 'grains', 'grape seed', 'grapes', 'green anjou pears', 'green grape', 'green pear', 'green plum', 'greengage',\n","                               'ground cherry', 'guarana', 'guava', 'hazelnut', 'hog plum', 'honeydew melon', 'isabella grape', 'jabuticaba', 'jackfruit',\n","                               'japanese loquat', 'jobs tears yi yi ren', 'kiwi', 'kumbaru', 'lingonberry', 'litchi', 'loganberry', 'longan berries', 'macadamia',\n","                               'mahonia', 'malt', 'mamey', 'mango', 'mangosteen', 'maninka', 'marian plum', 'medlar', 'melon', 'mirabelle', 'moepel accord',\n","                               'mulberry', 'mung bean', 'mushroom', 'nashi pear', 'nectarine', 'nutty notes', 'okra seeds', 'olive', 'papaya', 'passionfruit',\n","                               'pea', 'peach', 'peanut', 'pear', 'pecan', 'persimmon', 'peruvian pepper', 'pineapple', 'pinot noir grapes', 'pistachio',\n","                               'pitahaya', 'pitanga', 'plum', 'pomegranate', 'potato', 'prickly pear', 'pumpkin', 'quandong desert peach', 'quince', 'rambutan',\n","                               'raspberry', 'red apple', 'red berries', 'red currant', 'red fruits', 'red fruits smoothie', 'red mulberry', 'rhubarb', 'roasted nuts',\n","                               'sapodilla', 'sarsaparilla', 'sea buckthorn', 'seriguela', 'shea butter', 'shea nuts', 'silverberry', 'snowberry', 'sour cherry',\n","                               'soursop', 'soybean', 'squash', 'star apple', 'strawberry', 'tayberry', 'tomato', 'tropical fruits', 'tropicalone', 'tucumã', 'walnut',\n","                               'walnut milk', 'water fruit', 'watermelon', 'wattleseed', 'white currant', 'white grape', 'wild strawberry', 'williams pear', 'winterberry',\n","                               'wolfberry', 'yellow cherry', 'yellow fruits', 'yuca cassava', 'yumberry', 'lemon from italy', 'plum accord', 'italian lemon', 'bahamian orange', 'jamaican lime', 'japanese grapefruit (yuzu)', 'wildberries','blackberries', 'star fruit',\n","                               'kampot pepper', 'citrus fruits', 'madagascan black pepper','californian orange''japanese red chili peppers', 'candied apple', 'mediterranean blood orange', 'orange rind',\n","                               'roses from grasse and arabia', 'hibiscus from guinea','ivory coast cacao absolute','wild blackberry'],\n","\n","'FLOWERS': [\"acacia\", \"acerola blossom\", \"aglaia\", \"albizia\", \"almond blossom\", \"alpinia\", \"alstroemeria\", \"althaea\", \"alumroot\", \"alyssum\", \"amarillys\", \"amazon moonflower\", \"anemone\", \"angel's trumpet\", \"apple blossom\", \"apricot blossom\", \"ashoka flower\", \"astragalus\", \"azalea\", \"azteca lily\",\n","    \"banana flower\", \"banksia australian\", \"begonia\", \"belladona\", \"bellflower\", \"bergamot blossom\", \"bird cherry\", \"black currant blossom\", \"blackberry blossom\", \"blue lilies\", \"blue poppy\", \"bluebell\", \"bottlebrush\", \"bougainvillea\", \"bread flower\", \"bromelia\", \"buddleia\", \"butomus umbellatus\", \"buttercup\",\n","    \"cacao blossom\", \"calla lily\", \"camellia\", \"campion flower\", \"cananga\", \"cannonball flower\", \"carambola blossom\", \"cardamom flower\", \"carnation\", \"celosia\", \"chai hu\", \"chamomile\", \"champaca\", \"cherry blossom\", \"chimonanthus or wintersweet\", \"china rose\", \"chinotto blossom\", \"chocolate flower\", \"christmas tree or flame tree\",\n","    \"chrysanthemum\", \"cistus incanus\", \"clematis\", \"clover\", \"coconut blossom\", \"coffee blossom\", \"cornflower sultan seeds\", \"cosmos flower\", \"costus\", \"cotton flower\", \"creamy flowers\", \"crinum lily\", \"cucumber flower\", \"cyclamen\", \"dahlia\", \"daisy\", \"dandelion\", \"daphne\", \"daylily\",\n","    \"deadnettle\", \"delonix\", \"desert rose\", \"dianthus\", \"dogwood blossom\", \"dove tree\", \"dried rose\", \"dyer's greenweed\", \"edelweiss\", \"eglantine rose\", \"elderflower\", \"encian\", \"english marigold\", \"erigeron fleabane\", \"euphorbia\", \"eustoma | lisianthus\", \"evergreen\", \"field scabious\", \"fig blossom\",\n","    \"fire lily\", \"flamingo flower anthurium\", \"flax\", \"floral notes\", \"forget me not\", \"fragonia\", \"freesia\", \"fringed pink\", \"fuchsia\", \"geranium\", \"gerbera\", \"gladiolus\", \"goldenrod\", \"gorse\", \"grapeflower\", \"great burnet\", \"green nard\", \"green tea flower\", \"grevillea\", \"guava blossom\",\n","    \"guayacan\", \"gustavia flower\", \"hawthorn\", \"hazel blossom\", \"heather\", \"heliotrope\", \"hellabore flower\", \"hemlock\", \"hibiscus\", \"hoary stock\", \"holly flower\", \"hollyhock\", \"honeybush or cyclopia\", \"honeydew blossom\", \"hortensia\", \"hoya carnosa wax plant\", \"hyacinth\", \"hyssop\", \"impatiens\",\n","    \"inula\", \"iris\", \"iris butter\", \"iris pallida\", \"jacaranda\", \"jade flower\", \"jasmine orchid\", \"jujube blossom\", \"kadam\", \"kangaroo paw\", \"kanuka\", \"karmaflor\", \"kiwi blossom\", \"kudzu\", \"laburnum\", \"lady of the night flower\", \"lady slipper orchid\", \"lamduan flower\", \"lamprocapnos\",\n","    \"lantana\", \"larkspur\", \"laurel blossom\", \"lavender\", \"leatherwood\", \"ledum\", \"liatris\", \"liatrix\", \"lilac\", \"lily of the valley\", \"lime linden blossom\", \"litchi blossom\", \"longoza\", \"lotus\", \"lupin\", \"lydia broom\", \"lysylang\", \"magnolia\", \"magnolia brooklynensis\", \"magnolia leaf\",\n","    \"mahonial\", \"malva\", \"mango blossom\", \"mariposa lily\", \"mayflower\", \"meadowsweet\", \"melilotus\", \"melissa flower\", \"michelia\", \"mignonette\", \"mimosa\", \"mimusops elengi\", \"mirabilis\", \"monarda\", \"monoi oil\", \"morning glory flower\", \"moss flox\", \"myrtle\", \"narcissus\", \"nard\",\n","    \"nasturtium\", \"nectarine blossom\", \"nerium oleander\", \"nigella\", \"night blooming jasmine\", \"nom maew\", \"olive flower\", \"opium\", \"orange cassia tree\", \"orange flower water\", \"orchard blossom\", \"orchid\", \"orchid black diamond\", \"orchid cactus\", \"orchid pink leopard\", \"ornithogalum\", \"orris root\", \"osmanthus\",\n","    \"pansy\", \"papaya blossom\", \"paramela\", \"passion flower\", \"pataqueira\", \"peach blossom\", \"pear blossom\", \"pelargonium\", \"peony\", \"periwinkle\", \"petalia\", \"petunia\", \"phlox\", \"pineapple blossom\", \"pink flamingo heliconia\", \"pink lily\", \"pitahaya flower\", \"pittosporum\", \"plum blossom\",\n","    \"plumeria\", \"poinsettia\", \"pomegranate blossom\", \"poppy\", \"primrose\", \"princess tree paulownia\", \"privet\", \"protea\", \"prunella\", \"purple coneflower\", \"rangoon creeper\", \"raspberry blossom\", \"redwood flower\", \"reseda\", \"rhododendron\", \"rosa alba\", \"rosa rubiginosa\", \"rose\", \"rose hip\",\n","    \"rose japanese hamanasu\", \"rose mallow\", \"rosebay willowherb\", \"rosebud\", \"roselle\", \"safflower\", \"sainfoins\", \"sand lily\", \"sandalwood flower\", \"santolina\", \"saucer magnolia\", \"sea daffodil\", \"siberian rhododendron\", \"silk tree blossom\", \"skeleton flower diphylleia grayi\", \"smoketree\", \"snakeroot\",\n","    \"snow lotus\", \"snowdrops\", \"solomon's seal\", \"sophora toromiro flower\", \"sour cherry blossom\", \"spanish broom\", \"spiraea\", \"st. john's wort\", \"starflower\", \"strawberry flower\", \"strelitzia\", \"strobilanthes callosa\", \"sunflower\", \"sweet pea\", \"taif rose\", \"tamarisk\", \"tobacco blossom\", \"transparent flowers\", \"trillium\", \"tulip\",\n","    \"vanilla bahiana\", \"viburnum\", \"violet\", \"violet woodsorrel\", \"wallflower\", \"waratah\", \"water flowers\", \"water hyacinth\", \"water lily\", \"weeping cherry blossom\",\n","    \"white dahlia\", \"white ginger lily\", \"white lace flower\", \"white tea blossom\", \"wildflowers\", \"wisteria\", \"wrightia\",\n","    \"yellow bells\", \"yellow flowers\", \"ylang-ylang\", \"yuzu flower\", \"zinnia\",\"lavender fine\", \"egyptian jasmine absolute late crop\",\n","       'lavender bulgaria', 'patchouli indonesia', 'bullhorn orchid', 'rose absolute','and the absolutes of 15 flowers.','turkish rose',\n","       'carnation and violet', 'jasmine and rose absolutes.','narcissus flowers', 'osmanthus petals.',\n","       'bulgarian rose', 'indian tuberose', 'french lavender grand cru','egyptian jasmine', 'moroccan rose',\n","       'egyptian centifolia rose absolute grand cru',\n","       'indonesian patchouli', 'tropical flowers and spicy citruses', 'centifolia rose',\n","       'sicilian night blooming jasmine', 'absolute jasmine','floral',\n","       'grandiflorum jasmine',\n","       'egyptian centifolia rose absolute grand cru','roses from grasse and arabia','black currant leaves and bulgarian rose',\n","       'amazon magnolia',\n","       'notes of gardenia and white exotic florals','egyptian jasmine absolute grand cru',\n","       \"egyptian rose absolute centifolia grand cru (also from cherifa's fields)\",'cactus flower', 'patchouli from indonesia',\n","       'indian jasmine alcoolat \\x93grand cru\\x94\\x9d 5%','french orris absolute grand cru', 'indian jasmine absolute','madagascan ylang-ylang',\n","       'ylang ylang','rose petals click here for directions ã\\x97close rose delight body oil by tauer perfumes directions apply on skin',\n","       'rub gently until the oil is absorbed and enjoy the scent of gourmand rose petals.','gardenia (and other lovely things-- the mystery is part of the glamour)'],\n","\n","'WHITE FLOWERS': [\"arum lily\", \"belanis\", \"black locust\", \"boronia\", \"carissa\",\n","    \"datura\", \"frangipani\", \"gardenia\", \"grapefruit blossom\", \"honeysuckle\",\n","    \"jasmine\", \"karo-karounde\", \"lemon blossom\", \"lily\", \"mandarin orange blossom\",\n","    \"melati\", \"mock orange\", \"moon flower\", \"night blooming cereus\", \"orange blossom\",\n","    \"stephanotis\", \"syringa\", \"tangerine blossom\", \"tiare flower\", \"tuberose\",\n","    \"white flowers\", \"white tobacco\", 'moroccan neroli oil','morrocan mimosa absolute', 'moroccan mimosa absolute'],\n","\n","'GREENS HERBS FOUGERES': [\"agave\", \"algae\", \"aloe vera\", \"ammophila beach grass\", \"angelica\",\n","    \"angelica root\", \"apple mint\", \"arnica\", \"aromatic notes\", \"artemisia\",\n","    \"asparagus\", \"assam tea\", \"avocado\", \"azolla water fern\", \"banana leaf\",\n","    \"barley\", \"barrenwort\", \"basil\", \"bay essence\", \"beachheather\",\n","    \"betel leaf\", \"bigarane\", \"black currant leaf\", \"blackberry leaf\",\n","    \"blue bugle\", \"borage\", \"borneol\", \"bran\", \"buchu or agathosma\",\n","    \"buckwheat\", \"buckwheat tea\", \"bulrush\", \"burdock\", \"cactus\", \"calamus\",\n","    \"calycanthus\", \"cangzhu\", \"cannabis\", \"caper\", \"capitiú\", \"carnation leaves\",\n","    \"catnip\", \"cedar leaves\", \"celery\", \"celery seeds\", \"centella asiatica\",\n","    \"cherry leaf\", \"chicory\", \"chive\", \"chuan xiong\", \"cilantro\", \"citron leaf\",\n","    \"clary sage\", \"coca\", \"coleus\", \"creosote bush\", \"crithmum\", \"davana\",\n","    \"deer tongue grass\", \"dried fallen leaves\", \"earl grey tea\", \"fermented tea\",\n","    \"fern\", \"flouve\", \"fo ti ho shou wu\", \"fougère accord\", \"fresh evergreen\",\n","    \"gajumaru banyan\", \"galbanum\", \"garlic\", \"genmaicha\", \"geranium macrorrhizum zdravetz\",\n","    \"ginkgo\", \"ginseng\", \"grape leaves\", \"grass\", \"green branches\", \"green forest\",\n","    \"green notes\", \"green pepper\", \"green sap\", \"gromwell\", \"guao or maiden plum\",\n","    \"hat straw\", \"hay\", \"henna\", \"hops\", \"horseweed\", \"immortelle\", \"ivy\",\n","    \"jambu\", \"jatamansi or spikenard\", \"jojoba\", \"juniper\", \"juniper berries\",\n","    \"katrafay\", \"katsura leaf\", \"khella\", \"kunzea\", \"laminaria\", \"lantana leaf\",\n","    \"lapsang souchong tea\", \"laurissilva forest\", \"lesser calamint\", \"lettuce\",\n","    \"lily-of-the-valley leaves\", \"limnophila aromatica\", \"linaloe berry\", \"longjing tea\",\n","    \"lovage root\", \"mandrake\", \"marigold\", \"marjoram\", \"matcha tea\", \"mate\",\n","    \"melilot or sweet clover\", \"mimosa leaves\", \"mint\", \"mistletoe\", \"mugwort\",\n","    \"naswar\", \"nettle\", \"nut grass\", \"oak leaves\", \"oat\", \"olive leaf\",\n","    \"oolong tea\", \"orchid leaf\", \"oregano\", \"palm leaf\", \"palmarosa\", \"pandanus\",\n","    \"parsley\", \"peach leaf\", \"pear leaf\", \"pesto\", \"petrichor\", \"peyote\", \"physcool\",\n","    \"polygonum\", \"portulaca or pigweed\", \"pu'er tea\", \"purslane\", \"red algae\",\n","    \"reed\", \"rice\", \"rooibos red tea\", \"roots\", \"rose leaf\", \"rose thorn\",\n","    \"rosemary\", \"roseroot\", \"rue\", \"rumex\", \"rye\", \"sabah snake grass\", \"sage\",\n","    \"sansevieria\", \"sap\", \"satureja\", \"saw palmetto\", \"seaweed\", \"senecio\", \"shiso\",\n","    \"sideritis mountain tea\", \"silk vine or milk broom\", \"skunk cabbage\", \"snake plant\",\n","    \"spearmint\", \"spinach\", \"stems greens\", \"strawberry leaf\", \"sugandha kokila\",\n","    \"sundew\", \"swartzia\", \"sweet grass\", \"tansy\", \"tarragon\", \"tea\", \"thistle\",\n","    \"thyme\", \"ti leaf cordyline\", \"tieguanyin tea\", \"tobacco\", \"tomato leaf\",\n","    \"torreya\", \"trees\", \"tulsi\", \"turnera diffusa damiana\", \"valerian\", \"vanilla leaves\",\n","    \"vine\", \"violet leaf\", \"water lily leaf\", \"wheat\", \"white meranti\", \"wild garlic leaf\",\"willow-leaved\", \"wintergreen\", \"woodruff galium odoratum\",\n","    \"wormwood\", \"yarrow\", \"yunnan red tea\", \"pink pepper from madagascar\", 'canadian cedar', 'fig tree leaves', 'wood',\n","    'white cedar','japanese green tea','padauk wood','lemon leaves', 'green tea','cropped wood', 'tomato leaves', 'violet leaves''mimosa ( flower',\n","       'leaf and stem)','fennel seed.', 'egyptian blue lotus',\n","       'indian blue lotus', 'hawaiian blue lotus',\n","       'sri lankan blue lotus', 'thai blue lotus',\n","       'chinese osmanthus absolute 1%',\n","       'chinese osmanthus\\x93alcoolat\\x94\\x9d grand cru 10%', 'cardamom from india','venezuelan tonka absolute','tarragon from the alps',\n","       'jamaican amyris',\n","       'moroccan rosemary', 'sicilian mandarin',\n","       'mandarin from sicily','nanah mint'],\n","\n","'SPICES': [\"allspice\", \"anise\", \"asafoetida\", \"bay leaf\", \"bengal pepper\", \"cacao pod\",\n","    \"caraway\", \"cardamom\", \"carolina reaper\", \"cassia\", \"chutney\", \"cinnamon\",\n","    \"cinnamon leaf\", \"clove leaf\", \"cloves\", \"coffee\", \"coffee co2\", \"coffee tincture\",\n","    \"coriander\", \"cubeb or tailed pepper\", \"cumin\", \"curcuma turmeric\", \"curry\",\n","    \"curry tree\", \"dill\", \"fennel\", \"fenugreek\", \"galanga\", \"ginger\", \"green coffee\",\n","    \"guinea pepper\", \"indian spices\", \"japanese pepper\", \"kaempferia galanga\",\n","    \"kopi luwak coffee\", \"licorice\", \"mace\", \"mustard seed\", \"nutmeg\", \"oily notes\",\n","    \"oriental notes\", \"pepper\", \"peppertree\", \"pimento\", \"pimento leaf\", \"pimento seeds\",\n","    \"pink pepper\", \"priprioca\", \"saffron\", \"safraleine\", \"sesame\", \"siam cardamom\",\n","    \"sichuan pepper\", \"spicy notes\", \"star anise\", \"sumac\", \"tamarind\", \"timur\",\n","    \"tonka bean\", \"toscanol\", \"ultravanil\", \"vanilla\", \"wan sao lhong\", \"wasabi\", \"water pepper\", \"west indian bay\", 'chinese ginger',\n","    \"vanilla bean\", \"cinnamon from madagascar\", \"tobacco and coffee\", \"madagascan vanilla olã©orã©sin\", 'subtle spice notes',\n","    'subtle spice notes','vanilla pod', 'madagascar vanilla','hints of island vanilla orchid recent press voted top 5 cult fragrance by style.com. wallpaper magazine ym elle vogueus weeklyin touch',\n","    'hints of island vanilla orchid', 'tahitian vanilla','vanilla (and secret ingredients that we are not allowed to divulge)',\n","    'vanilla from comoros islands','madagascan vanilla \\x93grand cru\\x94\\x9d 2.5%','tonak bean', 'clove','spicy'\n","    ],\n","\n","'SWEETS GOURMAND': [\"acetyl furan\", \"agave nectar\", \"apple pie\", \"baba italian dessert\", \"baked apple\",\n","    \"baklava\", \"biscuit\", \"bonbon\", \"bread\", \"brioche\", \"brown sugar\", \"brownie\", \"bubbaloo\",\n","    \"bubble gum\", \"burnt sugar\", \"butter\", \"buttercream\", \"butterscotch\", \"cacao butter\",\n","    \"cake\", \"calissons d'aix\", \"candied fruits\", \"candied ginger\", \"candied orange\", \"candies\",\n","    \"canelé\", \"caramel\", \"cassata siciliana\", \"cereals\", \"cheesecake\", \"cherry milk\",\n","    \"cherry syrup\", \"chocolate fudge\", \"chocolate truffle\", \"churros\", \"coconut pie\",\n","    \"coconut powder\", \"condensed milk\", \"cone waffle\", \"confetti sugared almonds\", \"cookie\",\n","    \"cookie dough\", \"cosmofruit iff\", \"cotton candy\", \"cream\", \"creamsicle\", \"crème brûlée\",\n","    \"croissant\", \"cupcake\", \"custard\", \"dark chocolate\", \"dates\", \"donut or doughnut\", \"dulce de leche\",\n","    \"eggnog\", \"fougassette\", \"french pastries\", \"frosting glacé\", \"gelatin\", \"gianduia\", \"gingerbread\",\n","    \"gourmand accord\", \"griotte cherries\", \"halva\", \"hazelnut cocoa spread\", \"honey\", \"honeycomb\",\n","    \"horchata\", \"ice cream\", \"icing pink\", \"jelly\", \"jellybean\", \"kulfi\", \"lemon pie\", \"loukhoum\",\n","    \"macarons\", \"maple syrup\", \"maraschino cherry\", \"marmalade\", \"marron glacé\", \"marshmallow\",\n","    \"marzipan\", \"meringues\", \"milk cream\", \"milk mousse\", \"milkshake\", \"molasses\", \"nougat\",\n","    \"nutella\", \"oatmilk\", \"palm sugar\", \"pancake\", \"panettone\", \"panna cotta\", \"pastiera napoletana\",\n","    \"peach cream\", \"pear ice cream\", \"popcorn\", \"praline\", \"profiterole\", \"pudding\", \"puff pastry\",\n","    \"rainbow sorbet\", \"red fruits sorbet\", \"rice pudding\", \"rose jam\", \"sacher torte\", \"sorbet\",\n","    \"souffle\", \"sprinkles\", \"spun sugar\", \"strawberry syrup\", \"sugar\", \"sugar syrup\", \"tartine\",\n","    \"tiramisu\", \"toast\", \"toffee\", \"tropézienne tarte\", \"vanilla caviar\", \"waffle\", \"white chocolate\",\n","    \"white chocolate truffle\", \"whoopie pie\", \"yogurt\", \"zefir\",'strawberry salt','sweet'],\n","\n","'WOODS MOSSES': [\"agarwood oud\", \"akigalawood\", \"alder\", \"almond tree\", \"amaranth\", \"amburana bark\",\n","    \"amburana wood\", \"amyris\", \"apple tree\", \"araucaria\", \"arbutus madrona, bearberry tree\",\n","    \"argan tree\", \"aspen\", \"australian blue cypress\", \"bamboo\", \"baobab\", \"bark\", \"beech\",\n","    \"belambra tree\", \"birch\", \"black hemlock or tsuga\", \"black spruce\", \"blackwood\",\n","    \"blonde woods\", \"brazilian rosewood\", \"buddha wood\", \"buxus\", \"cabreuva\", \"cambodian oud\",\n","    \"canadian balsam\", \"carob tree\", \"cascarilla\", \"cashmir wood\", \"cedar\", \"chalood bark\",\n","    \"cherry tree\", \"chinese oud\", \"chypre notes\", \"clearwood\", \"cocobolo\", \"coconut tree\",\n","    \"coffee tree\", \"cork\", \"cottonwood poplar\", \"cypress\", \"cypriol oil or nagarmotha\",\n","    \"dark patchouli\", \"ditax wood\", \"dreamwood\", \"driftwood\", \"dry wood\", \"ducke\", \"ebony tree\",\n","    \"elm\", \"eucalyptus\", \"fig tree\", \"fir\", \"grass tree\", \"guaiac wood\", \"hiba\", \"hinoki wood\",\n","    \"ho wood\", \"incienso\", \"indian oud\", \"indian sandalwood\", \"indian woods\", \"ironwood\",\n","    \"ishpink, ocotea quixos\", \"kowhai\", \"laotian oud\", \"larch\", \"lichen\", \"liquidambar\",\n","    \"mahogany\", \"malaysian oud\", \"mango tree\", \"manuka\", \"maple\", \"massoia\", \"mesquite wood\",\n","    \"muhuhu\", \"mulberry plant\", \"mysore sandalwood\", \"neem\", \"nootka\", \"oak\", \"oakmoss\",\n","    \"olive tree\", \"palisander rosewood\", \"palo santo\", \"palo verde tree\", \"pamplewood\",\n","    \"paperbark\", \"papyrus\", \"patchouli\", \"patchouli green\", \"peach tree\", \"pear tree\",\n","    \"pepperwood or hercules club\", \"pine tree\", \"pink ipê tree\", \"plum tree\", \"pua keni keni pua-lulu\",\n","    \"ravenala\", \"ravensara\", \"red willow\", \"redwood\", \"saman\", \"sandalwood\", \"satinwood\", \"sawdust\",\n","    \"scots pine variant\", \"selaginella tamariscina\", \"sequoia\", \"siam\", \"siam wood\", \"spruce\",\n","    \"sycamore\", \"takamaka\", \"tamboti wood\", \"tatami\", \"teak wood\", \"thailand oud\", \"thanaka wood\",\n","    \"thuja\", \"transparent woods\", \"vetiver\", \"vietnamese oud\", \"white oud\", \"white willow\",\n","    \"wood barrel\", \"woods\", \"yohimbe\", \"rosewood\", \"agarwood\", 'indonesian patchouli oil','chinese cedarwood',\n","       'brazilian palisander wood', 'woods and moss', '100% pure oud', 'aloe wood''exotic sandalwoods. click here for directions ã\\x97close bay rum by gilbert henry directions natural contents will settle.  shake gently before using.'\n","       ,\"grey amber absolute (we're pretty sure there's more to it)\",\n","       'indian sandalwood grand cru','cedarwood','haitian vetiver\\x93grand cru\\x94\\x9d 10%','alpine spruce oil', 'pure cambodian oud',\n","       ],\n","\n","'RESINS BALSAMS': [\"amberwood\", \"andiroba\", \"bakhoor\", \"balsamic notes\", \"balsamic vinegar\",\n","    \"benzoin\", \"birch tar\", \"bisabolene\", \"breu-branco\", \"bushman candle\",\n","    \"cade oil\", \"choya loban\", \"choya nakh\", \"choya ral\", \"coal tar\",\n","    \"copahu balm\", \"copaiba balm\", \"copal\", \"dragon blood resin\", \"elemi\",\n","    \"estoraque\", \"gurjun balsam\", \"incense\", \"labdanum\", \"mastic or lentisque\",\n","    \"mopane\", \"myrica\", \"myrrh\", \"nag champa\", \"olibanum frankincense\",\"frankincense\",\n","    \"olibanum sacra resin green\", \"opoponax\", \"peru balsam\", \"pine tar\",\n","    \"poplar populus buds\", \"resins\", \"rubber\", \"styrax\", \"surf wax\", \"tea tree oil\", 'somalian olibanum',\n","    'madagascan clove bud oil','balsam', 'peruvian balsam',\n","       'balsam tolu', 'sicilian tarocco orange oil','haitian vetiver oil special grand cru','somalian myrrh 15%'],\n","\n","'MUSK AMBER ANIMALIC': [\"akashic acord\", \"aldron\", \"amber\", \"amber xtreme\", \"ambergris\",\n","    \"ambertonic iff\", \"ambrarome\", \"ambrette musk mallow\",\n","    \"ambrettolide\", \"ambrocenide symrise\", \"ambrostar\", \"ambroxan\",\n","    \"animal notes\", \"bacon\", \"bbq\", \"beeswax\", \"carrot seeds\", \"castoreum\",\n","    \"caviar\", \"cetalox\", \"cheese\", \"civet\", \"civettone\", \"coral reef\",\n","    \"daim\", \"exaltolide\", \"fur\", \"genet\", \"goat hair\", \"goat's milk\",\n","    \"habanolide\", \"hyraceum\", \"kephalis\", \"kyphi\", \"leather\", \"meat\",\n","    \"milk\", \"musks\", \"muskrat\", \"oysters\", \"saffiano leather\", \"sea shells\",\n","    \"skatole\", \"skin\", \"starfish\", \"suede\", \"sylkolide\", \"tolu balsam\",\n","    \"truffle\", \"velvione\",'white musks', 'musks \"from the pheromone family\"', 'sky aldehydes','musky amber', 'benzoin from laos',\n","    'sparkling musk', 'oceany', '11 select (but undisclosed!) notes that evoke vegetable tanned horse leather','musk'],\n","\n","'BEVERAGES': [\"absinthe\", \"advocaat\", \"amaretto\", \"applejack\", \"baileys irish cream\",\n","    \"batida\", \"beer\", \"beer ale\", \"bellini\", \"blue margarita\",\n","    \"boozy notes\", \"bourbon whiskey\", \"cachaça\", \"caipirinha\", \"campari\",\n","    \"cappuccino\", \"champagne\", \"champagne rosé\", \"cherry liqueur\",\n","    \"chinotto\", \"coca-cola\", \"cocktail fruits\", \"cognac\",\n","    \"cosmopolitan cocktail\", \"cream soda\", \"curaçao\", \"daiquiri\",\n","    \"eau de vie\", \"espresso\", \"fruit tea\", \"gin\", \"grenadine\", \"hi-fi\",\n","    \"ice wine\", \"jasmine tea\", \"kava drink\", \"kir royal\", \"lemon soda\",\n","    \"lemonade\", \"limoncello\", \"liquor\", \"macchiato\", \"madeira\",\n","    \"mai tai cocktail\", \"margarita\", \"martini\", \"masala chai\", \"mezcal\",\n","    \"midori\", \"mocha\", \"mojito\", \"moscow mule\", \"mulled wine\",\n","    \"orange soda\", \"ouzo\", \"pina colada\", \"pisco sour cocktail\", \"plum wine\",\n","    \"port wine\", \"prosecco\", \"punch\", \"raki\", \"red wine\", \"rhum agricole\",\n","    \"rice water\", \"rum\", \"sake\", \"sangria\", \"sparkling water\",\n","    \"sparkling wine\", \"syrup\", \"tequila\", \"tokaji wine\", \"tonic water\",\n","    \"umeshu\", \"vermouth\", \"vinegar\", \"vodka\", \"whiskey\", \"white wine\", \"wine lees\", \"wine must\"],\n","\n","'NATURAL SYNTHETIC POPULAR WEIRD': [\"pepperwood\", \"accord eudora\", \"alcantara accord\", \"aldambre\",\n","    \"aldehydes\", \"aluminum\", \"ambreine\", \"ambrinol\", \"ambrofix\",\n","    \"ambrox super\", \"ammonia\", \"amyl salicylate\", \"antillone\", \"aqual\",\n","    \"aquozone\", \"ash\", \"asphalt\", \"azarbre\", \"black diamond\",\n","    \"black leather\", \"blood\", \"boisiris\", \"bourgeonal\", \"brick\",\n","    \"brown scotch tape\", \"burnt match\", \"calone\", \"calypsone\", \"camphor\",\n","    \"candle wax\", \"canvas\", \"caoutchouc\", \"cascalone\", \"cashalox\",\n","    \"cashmeran\", \"cetonal\", \"chalk\", \"cinnamaldehyde\", \"clarycet\", \"clay\",\n","    \"co2 extracts\", \"coal\", \"cobblestone\", \"cocaine\", \"concrete\", \"copper\",\n","    \"coral limestone\", \"coranol\", \"cork\", \"cosmone\", \"coumarin\",\n","    \"credit cards\", \"crustaceans\", \"cyclopidene\", \"damascone\", \"dew drop\",\n","    \"dihydromyrcenol\", \"dirt\", \"dodecanal\", \"dust\", \"earth tincture\",\n","    \"earthy notes\", \"egg\", \"ember\", \"ethyl maltol\", \"eugenol\", \"evernyl\",\n","    \"fabric\", \"factor x\", \"fire\", \"fish\", \"flint\", \"floralozone\", \"flour\",\n","    \"galaxolide\", \"gasoline\", \"georgywood\", \"geosmin\", \"gold\", \"graphite\",\n","    \"guaiacol\", \"gunpowder\", \"hair pomade\", \"hand cream\",\n","    \"head space waterfall\", \"healingwood\", \"hedione\", \"helvetolide\",\n","    \"hexenyl green\", \"hexyl acetate\", \"hina\", \"hivernal\", \"holy water\",\n","    \"hot iron\", \"ice\", \"indole\", \"industrial glue\", \"ink\", \"instant film accord\",\n","    \"iodine\", \"ionones\", \"iso e super\", \"isobutyl quinoline\", \"jasmolactone\",\n","    \"jasmone\", \"javanol\", \"jeans\", \"lacquered wood\", \"lactones\", \"latex\",\n","    \"lava\", \"lilybelle\", \"linen\", \"lip gloss\", \"lipstick\", \"little doll strawberry\",\n","    \"lorenox\", \"magnolan\", \"mascarpone cheese\", \"melonal\", \"metallic notes\",\n","    \"mineral notes\", \"mitti attar\", \"molasses\", \"money\", \"motor oil\",\n","    \"mountain air\", \"mousse de saxe\", \"mud\", \"mugane\", \"muscenone\", \"mystikal\",\n","    \"nail polish\", \"naturalcalm\", \"neoprene\", \"norlimbanol\", \"nympheal\",\n","    \"old books\", \"old house\", \"orcanox™\", \"ozonic notes\", \"paper\",\n","    \"para-cresyl phenyl acetate\", \"paradisone\", \"parchment\", \"pearadise\",\n","    \"pearls\", \"peat\", \"pebbles\", \"pencil\", \"petroleum\", \"pharaone\",\n","    \"pink crystal\", \"pink himalayan sea salt\", \"pizza\", \"plastic\",\n","    \"plastic bag\", \"play-doh\", \"poison\", \"poivrol\", \"pollen\", \"pomarose\",\n","    \"powdery notes\", \"priest’s clothes\", \"propolis\", \"prunol\", \"rain notes\",\n","    \"re base\", \"rhodinol\", \"rice powder\", \"rose oxide\", \"salicylic acid\",\n","    \"salt\", \"sand\", \"satin\", \"sauna\", \"scent trek\", \"sclarene\", \"sea water\",\n","    \"serenolide\", \"shamama attar\", \"silk\", \"silver\", \"sinfonide\", \"siren\",\n","    \"slate\", \"smoke\", \"snow\", \"soap\", \"sodium silicate\", \"solar notes\",\n","    \"sp3 carbon\", \"spiranol\", \"spray paint\", \"steam accord\", \"stone\",\n","    \"sulphur\", \"suntan lotion\", \"sweat\", \"t-shirt accord\", \"talc\", \"tar\",\n","    \"tennis ball\", \"terpineol\", \"terranol\", \"timbersilk\", \"tomato sauce\",\n","    \"tonalide\", \"tonquitone\", \"toothpaste\", \"trimofix\", \"tuberolide\",\n","    \"tulle accord\", \"vanillin\", \"varnish accord\", \"velvet\", \"verdox\", \"vinyl\",\n","    \"vinyl guaiacol\", \"vitamin c\", \"water\", \"wet plaster\", \"wet stone\",\n","    \"white leather\", \"wool\", \"yeast\", 'ambergris infusion','silver ambergris', 'light musc','fossilized amber','galaxolide super',\n","    'african stone absolute','essence of distilled scotch'],\n","\n","'UNCATEGORIZED': ['soy milk', 'taro','nan','and after that', 'your guess is as good as ours.']\n","}"]},{"cell_type":"code","execution_count":4,"id":"161f9dc7","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"161f9dc7","executionInfo":{"status":"ok","timestamp":1718009727675,"user_tz":-540,"elapsed":619,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"562a65b6-6535-41ed-cae7-69c922b64f1a"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-4-c7e931e8ba79>:3: SettingWithCopyWarning: \n","A value is trying to be set on a copy of a slice from a DataFrame.\n","Try using .loc[row_indexer,col_indexer] = value instead\n","\n","See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n","  data['Processed_Notes'] = data['Notes'].apply(\n"]}],"source":["# Notes 열 전처리\n","data = data.dropna(subset=['Notes'])\n","data['Processed_Notes'] = data['Notes'].apply(\n","    lambda x: [note.strip().lower() for note in x.split(',')] if isinstance(x, str) else []\n",")"]},{"cell_type":"code","execution_count":5,"id":"8d5275c9","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"8d5275c9","executionInfo":{"status":"ok","timestamp":1718009729255,"user_tz":-540,"elapsed":469,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"10aab43b-0078-4a2a-ac9a-2e4d48b01bc5"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-5-57f51fe852b4>:10: SettingWithCopyWarning: \n","A value is trying to be set on a copy of a slice from a DataFrame.\n","Try using .loc[row_indexer,col_indexer] = value instead\n","\n","See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n","  data['category'] = data['Processed_Notes'].apply(lambda x: map_to_category(x, note_categories))\n"]}],"source":["# 카테고리 매핑\n","def map_to_category(notes, note_categories):\n","    categories = set()\n","    for note in notes:\n","        for category, ingredients in note_categories.items():\n","            if note in ingredients:\n","                categories.add(category)\n","    return ','.join(categories) if categories else 'Unknown'\n","\n","data['category'] = data['Processed_Notes'].apply(lambda x: map_to_category(x, note_categories))"]},{"cell_type":"code","execution_count":6,"id":"888fd606","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"888fd606","executionInfo":{"status":"ok","timestamp":1718009782438,"user_tz":-540,"elapsed":290,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"a9b82f4f-09b0-44f8-b8a2-3675f3195488"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-6-078454d5961b>:2: SettingWithCopyWarning: \n","A value is trying to be set on a copy of a slice from a DataFrame\n","\n","See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n","  data.drop(['Brand', 'Image URL', 'Description'], axis=1, inplace=True)\n"]}],"source":["# 분석에 필요없는 컬럼 제거\n","data.drop(['Brand', 'Image URL', 'Description'], axis=1, inplace=True)"]},{"cell_type":"code","execution_count":7,"id":"fe72a74b","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"fe72a74b","executionInfo":{"status":"ok","timestamp":1718009783525,"user_tz":-540,"elapsed":6,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"accc020d-a210-4f79-f965-72518c5950ec"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                     Name  \\\n","0                    Tihota Eau de Parfum   \n","1                             Sola Parfum   \n","2                          Kagiroi Parfum   \n","3            Velvet Fantasy Eau de Parfum   \n","4     A Blvd. Called Sunset Eau de Parfum   \n","...                                   ...   \n","2186           Perfect Veil Eau de Parfum   \n","2187                  Scent Eau de Parfum   \n","2188                 Bronze Eau de Parfum   \n","2189         Monyette Paris Fragrance Oil   \n","2190                   1270 Eau de Parfum   \n","\n","                                                  Notes  \\\n","0                                   Vanilla bean, musks   \n","1      Lavender, Yuzu, Lemongrass, Magnolia, Geraniu...   \n","2      Green yuzu, green shikuwasa, sansho seed, cor...   \n","3      tangerine,  pink pepper,  black coffee,  leat...   \n","4      Bergamot, almond, violet, jasmine, leather, s...   \n","...                                                 ...   \n","2186   top: lemon, bergamot base: musk, vanilla, san...   \n","2187   amber, jasmine tea, mother of pearl hibiscus ...   \n","2188   bergamot, mandarine, cinnamon, jasmine, iris,...   \n","2189   Tahitian gardenia, French muguet du bois, hin...   \n","2190   exotic woods, spice, raisin, vine flowers, pe...   \n","\n","                                        Processed_Notes  \\\n","0                                 [vanilla bean, musks]   \n","1     [lavender, yuzu, lemongrass, magnolia, geraniu...   \n","2     [green yuzu, green shikuwasa, sansho seed, cor...   \n","3     [tangerine, pink pepper, black coffee, leather...   \n","4     [bergamot, almond, violet, jasmine, leather, s...   \n","...                                                 ...   \n","2186  [top: lemon, bergamot base: musk, vanilla, san...   \n","2187  [amber, jasmine tea, mother of pearl hibiscus ...   \n","2188  [bergamot, mandarine, cinnamon, jasmine, iris,...   \n","2189  [tahitian gardenia, french muguet du bois, hin...   \n","2190  [exotic woods, spice, raisin, vine flowers, pe...   \n","\n","                                               category  \n","0                            SPICES,MUSK AMBER ANIMALIC  \n","1           FLOWERS,CITRUS,WHITE FLOWERS,RESINS BALSAMS  \n","2     WOODS MOSSES,FLOWERS,SPICES,GREENS HERBS FOUGE...  \n","3     WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...  \n","4     WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...  \n","...                                                 ...  \n","2186                                SPICES,WOODS MOSSES  \n","2187                      BEVERAGES,MUSK AMBER ANIMALIC  \n","2188  WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...  \n","2189                                             SPICES  \n","2190  WOODS MOSSES,MUSK AMBER ANIMALIC,SPICES,SWEETS...  \n","\n","[2111 rows x 4 columns]"],"text/html":["\n","  <div id=\"df-941cf7de-0bb3-479f-a7e1-87c1e8ca2641\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Name</th>\n","      <th>Notes</th>\n","      <th>Processed_Notes</th>\n","      <th>category</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Tihota Eau de Parfum</td>\n","      <td>Vanilla bean, musks</td>\n","      <td>[vanilla bean, musks]</td>\n","      <td>SPICES,MUSK AMBER ANIMALIC</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Sola Parfum</td>\n","      <td>Lavender, Yuzu, Lemongrass, Magnolia, Geraniu...</td>\n","      <td>[lavender, yuzu, lemongrass, magnolia, geraniu...</td>\n","      <td>FLOWERS,CITRUS,WHITE FLOWERS,RESINS BALSAMS</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Kagiroi Parfum</td>\n","      <td>Green yuzu, green shikuwasa, sansho seed, cor...</td>\n","      <td>[green yuzu, green shikuwasa, sansho seed, cor...</td>\n","      <td>WOODS MOSSES,FLOWERS,SPICES,GREENS HERBS FOUGE...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Velvet Fantasy Eau de Parfum</td>\n","      <td>tangerine,  pink pepper,  black coffee,  leat...</td>\n","      <td>[tangerine, pink pepper, black coffee, leather...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>A Blvd. Called Sunset Eau de Parfum</td>\n","      <td>Bergamot, almond, violet, jasmine, leather, s...</td>\n","      <td>[bergamot, almond, violet, jasmine, leather, s...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2186</th>\n","      <td>Perfect Veil Eau de Parfum</td>\n","      <td>top: lemon, bergamot base: musk, vanilla, san...</td>\n","      <td>[top: lemon, bergamot base: musk, vanilla, san...</td>\n","      <td>SPICES,WOODS MOSSES</td>\n","    </tr>\n","    <tr>\n","      <th>2187</th>\n","      <td>Scent Eau de Parfum</td>\n","      <td>amber, jasmine tea, mother of pearl hibiscus ...</td>\n","      <td>[amber, jasmine tea, mother of pearl hibiscus ...</td>\n","      <td>BEVERAGES,MUSK AMBER ANIMALIC</td>\n","    </tr>\n","    <tr>\n","      <th>2188</th>\n","      <td>Bronze Eau de Parfum</td>\n","      <td>bergamot, mandarine, cinnamon, jasmine, iris,...</td>\n","      <td>[bergamot, mandarine, cinnamon, jasmine, iris,...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...</td>\n","    </tr>\n","    <tr>\n","      <th>2189</th>\n","      <td>Monyette Paris Fragrance Oil</td>\n","      <td>Tahitian gardenia, French muguet du bois, hin...</td>\n","      <td>[tahitian gardenia, french muguet du bois, hin...</td>\n","      <td>SPICES</td>\n","    </tr>\n","    <tr>\n","      <th>2190</th>\n","      <td>1270 Eau de Parfum</td>\n","      <td>exotic woods, spice, raisin, vine flowers, pe...</td>\n","      <td>[exotic woods, spice, raisin, vine flowers, pe...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,SPICES,SWEETS...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2111 rows × 4 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-941cf7de-0bb3-479f-a7e1-87c1e8ca2641')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-941cf7de-0bb3-479f-a7e1-87c1e8ca2641 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-941cf7de-0bb3-479f-a7e1-87c1e8ca2641');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-b8f2a119-aa0b-48ec-ac0d-b3c35740da60\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b8f2a119-aa0b-48ec-ac0d-b3c35740da60')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b8f2a119-aa0b-48ec-ac0d-b3c35740da60 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_2642e901-cdd3-4afb-b075-79489421daa3\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('data')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_2642e901-cdd3-4afb-b075-79489421daa3 button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('data');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"data","summary":"{\n  \"name\": \"data\",\n  \"rows\": 2111,\n  \"fields\": [\n    {\n      \"column\": \"Name\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2104,\n        \"samples\": [\n          \"Moth Extrait de Parfum\",\n          \"Iridescent Sky Eau de Parfum\",\n          \"Almost Transparent Blue Eau de Toilette\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Notes\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2053,\n        \"samples\": [\n          \" hay, plum, espresso, tobacco, hazelnut, leather, patchouli, incense, dark chocolate, tar, castoreum, cognac, labdanum, beeswax, cherry, amber, allspice, Javanol, saffron, burning tire\",\n          \" Linden blossom, magnolia, lime, frangipani, rose, tuberose, water lily, plum, amber, musk, cedar, vanilla\",\n          \" Citrus, jasmine, saffron, sage, ambergris, oakmoss, cedar\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Processed_Notes\",\n      \"properties\": {\n        \"dtype\": \"object\",\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"category\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 717,\n        \"samples\": [\n          \"CITRUS,WOODS MOSSES,SPICES,MUSK AMBER ANIMALIC\",\n          \"WOODS MOSSES,FLOWERS,GREENS HERBS FOUGERES,WHITE FLOWERS,SWEETS GOURMAND,FRUITS VEGETABLES NUTS\",\n          \"WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICES,FRUITS VEGETABLES NUTS\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":7}],"source":["data"]},{"cell_type":"code","execution_count":8,"id":"55712dbf","metadata":{"id":"55712dbf","executionInfo":{"status":"ok","timestamp":1718009785759,"user_tz":-540,"elapsed":3,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}}},"outputs":[],"source":["# Word2Vec 모델 학습\n","model = Word2Vec(data['category'].apply(lambda x: x.split(',')), vector_size=100, window=5, min_count=1, workers=4)"]},{"cell_type":"code","execution_count":9,"id":"8fe116f8","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"8fe116f8","executionInfo":{"status":"ok","timestamp":1718009786986,"user_tz":-540,"elapsed":8,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"668f356d-2cb7-4e57-cd9f-2a9ec97c7f8a"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-9-2d593ecfd3a5>:9: SettingWithCopyWarning: \n","A value is trying to be set on a copy of a slice from a DataFrame.\n","Try using .loc[row_indexer,col_indexer] = value instead\n","\n","See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n","  data['Vector'] = data['category'].apply(lambda x: vectorize_category(x.split(',')))\n"]}],"source":["# 카테고리 벡터화 함수 정의\n","def vectorize_category(category_list):\n","    vectors = [model.wv[category] for category in category_list if category in model.wv]\n","    if not vectors:\n","        return np.zeros(model.vector_size)\n","    return np.mean(vectors, axis=0)\n","\n","# 데이터프레임에 벡터 추가\n","data['Vector'] = data['category'].apply(lambda x: vectorize_category(x.split(',')))"]},{"cell_type":"code","execution_count":10,"id":"10d8e5f6","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":597},"id":"10d8e5f6","executionInfo":{"status":"ok","timestamp":1718009790140,"user_tz":-540,"elapsed":469,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"outputId":"6e44f375-83d6-4dfe-9f0b-68608742b889"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                     Name  \\\n","0                    Tihota Eau de Parfum   \n","1                             Sola Parfum   \n","2                          Kagiroi Parfum   \n","3            Velvet Fantasy Eau de Parfum   \n","4     A Blvd. Called Sunset Eau de Parfum   \n","...                                   ...   \n","2186           Perfect Veil Eau de Parfum   \n","2187                  Scent Eau de Parfum   \n","2188                 Bronze Eau de Parfum   \n","2189         Monyette Paris Fragrance Oil   \n","2190                   1270 Eau de Parfum   \n","\n","                                                  Notes  \\\n","0                                   Vanilla bean, musks   \n","1      Lavender, Yuzu, Lemongrass, Magnolia, Geraniu...   \n","2      Green yuzu, green shikuwasa, sansho seed, cor...   \n","3      tangerine,  pink pepper,  black coffee,  leat...   \n","4      Bergamot, almond, violet, jasmine, leather, s...   \n","...                                                 ...   \n","2186   top: lemon, bergamot base: musk, vanilla, san...   \n","2187   amber, jasmine tea, mother of pearl hibiscus ...   \n","2188   bergamot, mandarine, cinnamon, jasmine, iris,...   \n","2189   Tahitian gardenia, French muguet du bois, hin...   \n","2190   exotic woods, spice, raisin, vine flowers, pe...   \n","\n","                                        Processed_Notes  \\\n","0                                 [vanilla bean, musks]   \n","1     [lavender, yuzu, lemongrass, magnolia, geraniu...   \n","2     [green yuzu, green shikuwasa, sansho seed, cor...   \n","3     [tangerine, pink pepper, black coffee, leather...   \n","4     [bergamot, almond, violet, jasmine, leather, s...   \n","...                                                 ...   \n","2186  [top: lemon, bergamot base: musk, vanilla, san...   \n","2187  [amber, jasmine tea, mother of pearl hibiscus ...   \n","2188  [bergamot, mandarine, cinnamon, jasmine, iris,...   \n","2189  [tahitian gardenia, french muguet du bois, hin...   \n","2190  [exotic woods, spice, raisin, vine flowers, pe...   \n","\n","                                               category  \\\n","0                            SPICES,MUSK AMBER ANIMALIC   \n","1           FLOWERS,CITRUS,WHITE FLOWERS,RESINS BALSAMS   \n","2     WOODS MOSSES,FLOWERS,SPICES,GREENS HERBS FOUGE...   \n","3     WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...   \n","4     WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...   \n","...                                                 ...   \n","2186                                SPICES,WOODS MOSSES   \n","2187                      BEVERAGES,MUSK AMBER ANIMALIC   \n","2188  WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...   \n","2189                                             SPICES   \n","2190  WOODS MOSSES,MUSK AMBER ANIMALIC,SPICES,SWEETS...   \n","\n","                                                 Vector  \n","0     [-0.117157444, 0.10828882, 0.054376915, 0.1067...  \n","1     [-0.0931574, 0.08827552, 0.04371935, 0.0944743...  \n","2     [-0.11062269, 0.10095362, 0.049211975, 0.10313...  \n","3     [-0.09887542, 0.093066804, 0.048271965, 0.0961...  \n","4     [-0.10302353, 0.09626649, 0.048614614, 0.10074...  \n","...                                                 ...  \n","2186  [-0.112664975, 0.10318129, 0.05664768, 0.11288...  \n","2187  [-0.07660402, 0.081230834, 0.037372056, 0.0762...  \n","2188  [-0.106408656, 0.09930565, 0.05014065, 0.10379...  \n","2189  [-0.118304096, 0.10630357, 0.05745308, 0.11172...  \n","2190  [-0.09554591, 0.090060376, 0.048222877, 0.0920...  \n","\n","[2111 rows x 5 columns]"],"text/html":["\n","  <div id=\"df-3058b0dd-2c6d-4e11-9fab-397f2356a072\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Name</th>\n","      <th>Notes</th>\n","      <th>Processed_Notes</th>\n","      <th>category</th>\n","      <th>Vector</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Tihota Eau de Parfum</td>\n","      <td>Vanilla bean, musks</td>\n","      <td>[vanilla bean, musks]</td>\n","      <td>SPICES,MUSK AMBER ANIMALIC</td>\n","      <td>[-0.117157444, 0.10828882, 0.054376915, 0.1067...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Sola Parfum</td>\n","      <td>Lavender, Yuzu, Lemongrass, Magnolia, Geraniu...</td>\n","      <td>[lavender, yuzu, lemongrass, magnolia, geraniu...</td>\n","      <td>FLOWERS,CITRUS,WHITE FLOWERS,RESINS BALSAMS</td>\n","      <td>[-0.0931574, 0.08827552, 0.04371935, 0.0944743...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Kagiroi Parfum</td>\n","      <td>Green yuzu, green shikuwasa, sansho seed, cor...</td>\n","      <td>[green yuzu, green shikuwasa, sansho seed, cor...</td>\n","      <td>WOODS MOSSES,FLOWERS,SPICES,GREENS HERBS FOUGE...</td>\n","      <td>[-0.11062269, 0.10095362, 0.049211975, 0.10313...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Velvet Fantasy Eau de Parfum</td>\n","      <td>tangerine,  pink pepper,  black coffee,  leat...</td>\n","      <td>[tangerine, pink pepper, black coffee, leather...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...</td>\n","      <td>[-0.09887542, 0.093066804, 0.048271965, 0.0961...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>A Blvd. Called Sunset Eau de Parfum</td>\n","      <td>Bergamot, almond, violet, jasmine, leather, s...</td>\n","      <td>[bergamot, almond, violet, jasmine, leather, s...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...</td>\n","      <td>[-0.10302353, 0.09626649, 0.048614614, 0.10074...</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2186</th>\n","      <td>Perfect Veil Eau de Parfum</td>\n","      <td>top: lemon, bergamot base: musk, vanilla, san...</td>\n","      <td>[top: lemon, bergamot base: musk, vanilla, san...</td>\n","      <td>SPICES,WOODS MOSSES</td>\n","      <td>[-0.112664975, 0.10318129, 0.05664768, 0.11288...</td>\n","    </tr>\n","    <tr>\n","      <th>2187</th>\n","      <td>Scent Eau de Parfum</td>\n","      <td>amber, jasmine tea, mother of pearl hibiscus ...</td>\n","      <td>[amber, jasmine tea, mother of pearl hibiscus ...</td>\n","      <td>BEVERAGES,MUSK AMBER ANIMALIC</td>\n","      <td>[-0.07660402, 0.081230834, 0.037372056, 0.0762...</td>\n","    </tr>\n","    <tr>\n","      <th>2188</th>\n","      <td>Bronze Eau de Parfum</td>\n","      <td>bergamot, mandarine, cinnamon, jasmine, iris,...</td>\n","      <td>[bergamot, mandarine, cinnamon, jasmine, iris,...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICE...</td>\n","      <td>[-0.106408656, 0.09930565, 0.05014065, 0.10379...</td>\n","    </tr>\n","    <tr>\n","      <th>2189</th>\n","      <td>Monyette Paris Fragrance Oil</td>\n","      <td>Tahitian gardenia, French muguet du bois, hin...</td>\n","      <td>[tahitian gardenia, french muguet du bois, hin...</td>\n","      <td>SPICES</td>\n","      <td>[-0.118304096, 0.10630357, 0.05745308, 0.11172...</td>\n","    </tr>\n","    <tr>\n","      <th>2190</th>\n","      <td>1270 Eau de Parfum</td>\n","      <td>exotic woods, spice, raisin, vine flowers, pe...</td>\n","      <td>[exotic woods, spice, raisin, vine flowers, pe...</td>\n","      <td>WOODS MOSSES,MUSK AMBER ANIMALIC,SPICES,SWEETS...</td>\n","      <td>[-0.09554591, 0.090060376, 0.048222877, 0.0920...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2111 rows × 5 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3058b0dd-2c6d-4e11-9fab-397f2356a072')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-3058b0dd-2c6d-4e11-9fab-397f2356a072 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3058b0dd-2c6d-4e11-9fab-397f2356a072');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-f10ea041-b721-41f1-a242-a493623094ca\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f10ea041-b721-41f1-a242-a493623094ca')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-f10ea041-b721-41f1-a242-a493623094ca button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_d8e0c4f5-c63e-44f7-ae62-756d7059bbc6\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('data')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_d8e0c4f5-c63e-44f7-ae62-756d7059bbc6 button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('data');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"data","summary":"{\n  \"name\": \"data\",\n  \"rows\": 2111,\n  \"fields\": [\n    {\n      \"column\": \"Name\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2104,\n        \"samples\": [\n          \"Moth Extrait de Parfum\",\n          \"Iridescent Sky Eau de Parfum\",\n          \"Almost Transparent Blue Eau de Toilette\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Notes\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2053,\n        \"samples\": [\n          \" hay, plum, espresso, tobacco, hazelnut, leather, patchouli, incense, dark chocolate, tar, castoreum, cognac, labdanum, beeswax, cherry, amber, allspice, Javanol, saffron, burning tire\",\n          \" Linden blossom, magnolia, lime, frangipani, rose, tuberose, water lily, plum, amber, musk, cedar, vanilla\",\n          \" Citrus, jasmine, saffron, sage, ambergris, oakmoss, cedar\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Processed_Notes\",\n      \"properties\": {\n        \"dtype\": \"object\",\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"category\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 717,\n        \"samples\": [\n          \"CITRUS,WOODS MOSSES,SPICES,MUSK AMBER ANIMALIC\",\n          \"WOODS MOSSES,FLOWERS,GREENS HERBS FOUGERES,WHITE FLOWERS,SWEETS GOURMAND,FRUITS VEGETABLES NUTS\",\n          \"WOODS MOSSES,MUSK AMBER ANIMALIC,FLOWERS,SPICES,FRUITS VEGETABLES NUTS\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Vector\",\n      \"properties\": {\n        \"dtype\": \"object\",\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":10}],"source":["data"]},{"cell_type":"code","execution_count":22,"id":"e1592165","metadata":{"id":"e1592165","executionInfo":{"status":"ok","timestamp":1718011565415,"user_tz":-540,"elapsed":23773,"user":{"displayName":"Yoni Kim","userId":"02417093102781815467"}},"colab":{"base_uri":"https://localhost:8080/"},"outputId":"098f8e69-4eef-4865-ea7d-802e1683e2a6"},"outputs":[{"output_type":"stream","name":"stdout","text":["Select categories from the following options:\n","MUSK AMBER ANIMALIC/SPICES/CITRUS/FLOWERS/WHITE FLOWERS/RESINS BALSAMS/WOODS MOSSES/GREENS HERBS FOUGERES/SWEETS GOURMAND/FRUITS VEGETABLES NUTS/BEVERAGES/NATURAL SYNTHETIC POPULAR WEIRD\n","top - 가장 빨리 날아가는 향, middle - 중간 지속 향, base - 가장 오래 지속되는 향 / 해당 기준에 맞춰 원하는 향을 입력해주세요\n","CITRUS - 상쾌\n","FRUITS VEGETABLES NUTS - 달달, 상쾌, 고소\n","FLOWERS - 꽃향, 달달\n","WHITE FLOWERS - 꽃향, flowers보다 연함\n","GREENS HERBS FOUGERES - 톡 쏨, 씁쓸\n","SPICES - 묵직, 향신료\n","SWEETS GOURMAND - 달달\n","WOODS MOSSES - 묵직, 씁쓸, 자연, 나무 냄새\n","RESINS BALSAMS - 발사믹 향, 나무향과 잘어울림\n","MUSK AMBER ANIMALIC - 짠맛, 깊은향, 달콤한향\n","BEVERAGES - 열대의 향, 칵테일과 동일한 향\n","NATURAL SYNTHETIC POPULAR WEIRD - 원료의 향처럼 가루 냄새, 흙 냄새 등 원료 그대로의 냄새\n","Enter the top : GREENS HERBS FOUGERES\n","Enter the middle: FRUITS VEGETABLES NUTS\n","Enter the base: CITRUS\n","\n","Top 5 recommended perfumes:\n","Name: Silk, Lace & Chocolate Eau de Parfum, Similarity: 0.9999\n","Name: Rhubarb Eau de Toilette, Similarity: 0.9999\n","Name: Magnolia Grandiflora - Sandrine Eau de Parfum, Similarity: 0.9996\n","Name: Medie Eau de Parfum, Similarity: 0.9996\n","Name: Palermo Eau de Parfum, Similarity: 0.9996\n"]}],"source":["# 사용자로부터 입력받기\n","print(\"Select categories from the following options:\")\n","print('MUSK AMBER ANIMALIC/SPICES/CITRUS/FLOWERS/WHITE FLOWERS/RESINS BALSAMS/WOODS MOSSES/GREENS HERBS FOUGERES/SWEETS GOURMAND/FRUITS VEGETABLES NUTS/BEVERAGES/NATURAL SYNTHETIC POPULAR WEIRD')\n","print('top - 가장 빨리 날아가는 향, middle - 중간 지속 향, base - 가장 오래 지속되는 향 / 해당 기준에 맞춰 원하는 향을 입력해주세요')\n","print('CITRUS - 상쾌\\n'\n","      'FRUITS VEGETABLES NUTS - 달달, 상쾌, 고소\\n'\n","      'FLOWERS - 꽃향, 달달\\n'\n","      'WHITE FLOWERS - 꽃향, flowers보다 연함\\n'\n","      'GREENS HERBS FOUGERES - 톡 쏨, 씁쓸\\n'\n","      'SPICES - 묵직, 향신료\\n'\n","      'SWEETS GOURMAND - 달달\\n'\n","      'WOODS MOSSES - 묵직, 씁쓸, 자연, 나무 냄새\\n'\n","      'RESINS BALSAMS - 발사믹 향, 나무향과 잘어울림\\n'\n","      'MUSK AMBER ANIMALIC - 짠맛, 깊은향, 달콤한향\\n'\n","      'BEVERAGES - 열대의 향, 칵테일과 동일한 향\\n'\n","      'NATURAL SYNTHETIC POPULAR WEIRD - 원료의 향처럼 가루 냄새, 흙 냄새 등 원료 그대로의 냄새')\n","\n","top_category = input(\"Enter the top : \").upper().strip()\n","middle_category = input(\"Enter the middle: \").upper().strip()\n","base_category = input(\"Enter the base: \").upper().strip()\n","\n","# 입력된 카테고리들을 리스트로 통합\n","user_input = [top_category, middle_category, base_category]\n","\n","# 입력된 카테고리들을 벡터로 변환\n","user_vector_top = vectorize_category([top_category])\n","user_vector_middle = vectorize_category([middle_category])\n","user_vector_base = vectorize_category([base_category])\n","\n","weights = {\"top\": 0.0 ,\"middle\": 0.2, \"base\": 0.4}\n","\n","user_vector = (weights[\"top\"] * user_vector_top +\n","               weights[\"middle\"] * user_vector_middle +\n","               weights[\"base\"] * user_vector_base)\n","\n","# 코사인 유사도 계산 함수\n","def calculate_similarity(perfume_vector, user_vector):\n","    return cosine_similarity([perfume_vector], [user_vector])[0][0]\n","\n","# 향수 추천 함수\n","def recommend_perfumes(user_vector, top_n=5):\n","    perfumes_with_similarity = []\n","    for _, row in data.iterrows():\n","        similarity = calculate_similarity(row[\"Vector\"], user_vector)\n","        perfumes_with_similarity.append({\"name\": row[\"Name\"], \"similarity\": similarity})\n","    # 유사도가 높은 순서대로 정렬\n","    recommended_perfumes = sorted(perfumes_with_similarity, key=lambda x: x[\"similarity\"], reverse=True)\n","    return recommended_perfumes[:top_n]\n","\n","# 추천 결과 출력\n","recommended_perfumes = recommend_perfumes(user_vector, top_n=5)\n","print(\"\\nTop 5 recommended perfumes:\")\n","for perfume in recommended_perfumes:\n","    print(f\"Name: {perfume['name']}, Similarity: {perfume['similarity']:.4f}\")"]}],"metadata":{"kernelspec":{"display_name":"Python 3 (ipykernel)","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.11.5"},"colab":{"provenance":[{"file_id":"1n_I-HmxocHyQEPVX2dF-PNNZp8-XZFyT","timestamp":1717927862613}]}},"nbformat":4,"nbformat_minor":5}